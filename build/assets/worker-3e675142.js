(function(){"use strict";function i(h,a,M){return h*M+a}let o=[],p=[];onmessage=h=>{let a=h.data;const M=Array(a).fill(0).map((n,f)=>f+1);_(),D(),postMessage([o,p]);function d(){return M.sort(()=>Math.random()-.5).slice()}function g(n,f,r,t){for(var e=0;e<a;e++)if(e!=f&&n[i(e,r,a)]==t||e!=r&&n[i(f,e,a)]==t)return!1;for(var s=Math.floor(f/3),l=Math.floor(r/3),c=0;c<3;c++)for(var u=s*3+c,v=0;v<3;v++){var m=l*3+v;if(!(u==f&&m==r)&&n[i(u,m,a)]==t)return!1}return!0}function D(){let f,r;for(var t=0;t<a;t++){r=[0,1,2,3,4,5,6,7,8];for(var e=1;e<6;e++)f=Math.floor(Math.random()*r.length),o[i(t,r[f],a)]=null,r.splice(f,1);r.forEach(s=>{p.push(i(t,s,a))})}}function _(){var n=0;let f,r=Date.now();for(var t=0;t<a;t++)for(var e=d(),s=0,l=0;l<9;l++){var c=Math.floor(Math.random()*e.length),u=e[c];if(g(o,t,l,u)?(o[i(t,l,a)]=u,e.splice(c,1)):(s++,l--),f=Date.now()-r,f>300){r=Date.now(),t=-1,s=0,n=0,o=[];break}if(s>40&&(o.splice(i(t,0,a)),l=-1,s=0,e=d(),n++),n>50){o.splice(i(t-1,0,a)),t--,t>-1&&t--;break}}}}})();
